---
title: 2024-10-21 Waku Weekly
tags:
  - waku-updates
date: 2024-10-21
---
## [Milestone - Store Service Upgrade](https://github.com/waku-org/pm/milestone/28)

- [Store v3 - store synchronisation](https://github.com/waku-org/pm/issues/132)
  - achieved:
    - [nwaku] update dynamic to static library in negentropy. [chore: dynamic library (no longer required)](https://github.com/waku-org/negentropy/pull/14)
    - [research] almost bug free Waku Sync 2.0 POC
    - [research] Completed some initial Store sync testing
  - next:
    - [research] finish POC
    - [research] refine test plan and continue testing store sync

- [PostgreSQL Maintenance](https://github.com/waku-org/pm/issues/119)
  - achieved:
    - [nwaku] [chore: dbconn - add requestId info as a comment in the database logs](https://github.com/waku-org/nwaku/pull/3110)
    - [nwaku] [fix: add a limit of max 10 content topics per query](https://github.com/waku-org/nwaku/pull/3117)
  - next:
    - [nwaku] Reach a conclusion on whether we need time-sortable msgHash [chore: make the msg hash time-sortable](https://github.com/waku-org/nwaku/issues/3034)
    - [research] generate representative DB using older nwaku store node, prior to optimisation implementation

## [Milestone - Direct Message Reliability](https://github.com/waku-org/pm/milestone/29)

- [Tooling: filter and light push protocols](https://github.com/waku-org/pm/issues/178)
  - next:
    - [nwaku] [chore: add dashboard for liteprotocoltester runs](https://github.com/waku-org/nwaku/issues/2999)
    - [nwaku] A new repository [lpt-runner](https://github.com/waku-org/lpt-runner) is now public and capable of easing configuration and running tests on any Waku network.
    - [nwaku] A new build and deployment job is created for the lite-protocol-tester

## [Milestone - End-to-end reliability protocol](https://github.com/waku-org/pm/milestone/30)

- [End-to-end reliability protocol - Status integration](https://github.com/waku-org/pm/issues/194)
  - achieved: [research] implemented the core reliability API functions
  - next: [research] rolling bloom filter implementation in nim

## [Milestone - Static Sharding - dedicated shards](https://github.com/waku-org/pm/milestone/31)

- [Enable testing of custom shard implementation for Communities](https://github.com/waku-org/pm/issues/196)
  - achieved: [chat] test with sharded communities [bug: subscription on non supported shard has too many logs](https://github.com/waku-org/go-waku/issues/1240)

## [Milestone - RLN Mainnet](https://github.com/waku-org/pm/milestone/34)

- [Public dogfooding RLNaaS web app](https://github.com/waku-org/pm/issues/259)
  - achieved:
    - [js-waku] enhanced peer and connection management for better reliability of Filter [feat: enhancing protocol management with mutex locks](https://github.com/waku-org/js-waku/pull/2137)
    - [js-waku] investigate and fix problematic points in reliability manager that breaks Filter subscriptions sometimes [bug: reliability monitor renews working peers from Filter or does not renew not working peer](https://github.com/waku-org/js-waku/issues/2158)
    - [js-waku] fix recurring pings [fix: attempt to fix some of the Filter issues](https://github.com/waku-org/js-waku/pull/2183)
    - [js-waku] implement optional check of filter through light push [feat: check filter against lightPush, basic implementation](https://github.com/waku-org/js-waku/pull/2185)
    - [js-waku] implement auto retry for failed messages in light push [feat!: lighten retry logic for LightPush](https://github.com/waku-org/js-waku/pull/2182)
    - [js-waku] change filter pings to 1 minute [chore: change default filter ping interval to 1 min](https://github.com/waku-org/js-waku/pull/2184)
  - next:
    - [js-waku] working on user facing dogfooding app [Create user facing dogfooding app](https://github.com/waku-org/js-waku/issues/2177)
    - [js-waku] limit max amount of open connections to prevent spamming of TWN [feat: maintain max open connection & prune unhealthy connections from peer store](https://github.com/waku-org/js-waku/issues/2168)
    - [js-waku] filter subscription flakiness on cold start [bug: filter subscription is not working on cold start](https://github.com/waku-org/js-waku/issues/2190)

- [Implement RLN smart contract for paid, multilevel memberships](https://github.com/waku-org/pm/issues/256)
  - achieved: [nwaku] [feat: EIP-2612 permit](https://github.com/waku-org/waku-rlnv2-contract/pull/22)

## [Milestone - Scale up number of Communities](https://github.com/waku-org/pm/milestone/32)

- [Usage of Rendezvous](https://github.com/waku-org/pm/issues/199)
  - blockers: [research] waiting on new nim-libp2p version

## [Milestone: Nwaku in Status Desktop](https://github.com/waku-org/pm/milestone/33)

- [Nwaku in Status Desktop](https://github.com/waku-org/pm/issues/203)
  - achieved:
    - [nwaku] merged PR in status-go with the necessary fixes, features and testing DNS Discovery, Discv5 and dialing/disconnecting using nwaku [feat: testing discovery and dialing with nwaku integration](https://github.com/status-im/status-go/pull/5940)
    - [nwaku] [fix: returning peerIds in base 64 in GET_ALL_PEER_IDS](https://github.com/waku-org/nwaku/pull/3105)
    - [nwaku] [fix: segfault for libwaku's empty response messages](https://github.com/waku-org/nwaku/pull/3108)
    - [nwaku] [chore: improving get_peer_ids_by_protocol in libwaku](https://github.com/waku-org/nwaku/pull/3109)
    - [nwaku] [chore: adding to libwaku dial and disconnect by peerIds](https://github.com/waku-org/nwaku/pull/3111)
    - [nwaku] [chore: returning seqs in libwaku as comma separated strings](https://github.com/waku-org/nwaku/pull/3121)
    - [nwaku] [fix: avoid segfault by setting a default num peers requested in PX](https://github.com/waku-org/nwaku/pull/3122)
    - [nwaku] [feat: nwaku](https://github.com/status-im/status-desktop/pull/16512) Compile desktop with nwaku support and build .AppImage (on linux)
    - [nwaku] Decouple go-waku’s API from go-waku’s wakunode: [refactor_: decouple go-waku api from go-waku wakunode](https://github.com/status-im/status-go/pull/5948) [refactor: decouple API from go-waku](https://github.com/waku-org/go-waku/pull/1239), required so it’s possible to call nwaku’s function from the `api` package in go-waku
  - next:
    - [nwaku] [Support for discovery of circuit-relay peers](https://github.com/waku-org/nwaku/issues/2514)
    - [nwaku] [feat: nwaku in status-go (peer exchange)](https://github.com/waku-org/nwaku/issues/3115)

- [Nwaku on Windows](https://github.com/waku-org/pm/issues/239)
  - achieved:
    - [nwaku] Able to create wakunode2 executable (.exe) of wakunode2. [feat: windows support](https://github.com/waku-org/nwaku/pull/3107)
    - [nwaku] Automate build as much as possible and cross platform support
  - next: [nwaku] Further Dogfooding of windows support and remove waku_sync bypass (we’ve been avoiding to link negentropy until now.)

## [Milestone: Incentivise running a Waku infrastructure node](https://github.com/waku-org/pm/milestone/35)

- [RLN Relay Incentivisation - RLN fee sharing roadmap & spec](https://github.com/waku-org/pm/issues/244)
  - achieved: [research] Drafted spec for RLN fees distribution: https://github.com/waku-org/specs/pull/44
  - next: [research] Get Vac/IFT feedback

## [Milestone: Bandwidth optimization and protocol review](https://github.com/waku-org/pm/milestone/31)

- [Status usage of Waku scaling and bandwidth optimization recommendation](https://github.com/waku-org/pm/issues/197)
  - achieved: [chat] research and document the community description improvement roadmap, [Community Metadata Improvement Roadmap](https://www.notion.so/Community-Metadata-Improvement-Roadmap-1268f96fb65c801b88cfea25603d7025)

- [Review usage of content topics in Status Chat and Communities protocol](https://github.com/waku-org/pm/issues/198)
  - achieved:
    - [research] handled archive and some other flows to use single content-topic
    - [chat] addressed all flows in first phase of single content-topic usage in status communities. dogfooding is also complete. [feat_: use a single content-topic for all community chats](https://github.com/status-im/status-go/pull/5864)
  - next: [research] fix CI issues and get poc dogfooded

### [Milestone: Demonstrate product-market fit](https://github.com/waku-org/pm/milestone/36)

- [Customer Interviews](https://github.com/waku-org/pm/issues/251)
  - next: Will interview 2 projects next week;

- [Co-design sessions](https://github.com/waku-org/pm/issues/252)
  - achieved: 2 new projects interested in co-design
  - next: define scope and schedule with those 2 and other projects that already expressed interest;

### [Milestone: Acquire first 10 customers](https://github.com/waku-org/pm/milestone/37)

- [5-10 Highly qualified leads](https://github.com/waku-org/pm/issues/254)
  - achieved: - qualified 2 leads, one in gaming other in the intents vertical;
  - next: calls with 2 additional leads scheduled for next week;

## Other Work

### Maintenance

- achieved:
  - [nwaku] [chore: ci - force use ubuntu-22.04](https://github.com/waku-org/nwaku/pull/3118)
  - [chat] simple bad peer removal for lightnode [fix: filter stats mismatch and add bad peer check for light mode](https://github.com/waku-org/go-waku/pull/1241)
- next:
  - [nwaku] prepare Rust app for devcon workshop
  - [nwaku] [Bump vendor dependencies for release 0.34.0](https://github.com/waku-org/nwaku/issues/3087)
  Vendor version upgrades are in finish - major achievement having latest web3, eth and libp2p libraries in nim-waku.
  - [js-waku] upgrade e2e test to facilitate latest nwaku [chore: upgrade nwaku to 0.33.0 and check interop tests](https://github.com/waku-org/js-waku/issues/2176)

### Bugs

- achieved:
  - [chat] investigate issues reported in status-mobile [Significant delay or missing messages on 4G in community (without re-login or app closure)](https://github.com/status-im/status-mobile/issues/21172)
  - [chat] multiple Cli test fixes one-to-one & private group chats: [flakey test](https://github.com/status-im/status-cli-tests/pull/15/files)
