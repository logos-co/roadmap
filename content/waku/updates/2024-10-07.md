---
title: 2024-10-07 Waku Weekly
tags:
  - waku-updates
date: 2024-10-07
---

## [Milestone - Store Service Upgrade](https://github.com/waku-org/pm/milestone/28)

- [Store v3 - store synchronisation](https://github.com/waku-org/pm/issues/132)
  - achieved:
    - [research] simple sync storage POC
    - [research] gathered info on store sync and implemented testing tools
  - next:
    - [test] finishing protocol POC
    - [test] store sync testing plan

- [PostgreSQL Maintenance](https://github.com/waku-org/pm/issues/119)
  - achieved:
    - [research] ongoing benchmark test with latest improvement
    - [nwaku] [chore: Optimize store](https://github.com/waku-org/nwaku/pull/3061)
    - [nwaku] [chore: store queries for content topics take longer with cursor](https://github.com/waku-org/nwaku/issues/2963)
  - next:
    - [research] ongoing benchmark test with latest improvement

## [Milestone - Direct Message Reliability](https://github.com/waku-org/pm/milestone/29)

- [Tooling: filter and light push protocols](https://github.com/waku-org/pm/issues/178)
  - next:
    - [nwaku] [chore: add dashboard for liteprotocoltester runs](https://github.com/waku-org/nwaku/issues/2999)
      - Added PeerExchange service node discovery
      - Added Peer connection testing and metrics
      - Added flexible service peer switch capability to ensure smooth testingAll are monitored via metrics.
      - Prepare integration LiteProtocolTester with monitoring to infra.

- [Reliability Protocol for Resource-Restricted Clients](https://github.com/waku-org/pm/issues/186)
  - achieved:
    - [js-waku] refined stream management to prevent spamming and higher reliability rate [fix: peer renewal connection drop & stream management](https://github.com/waku-org/js-waku/pull/2145)
    - [js-waku] investigation of peer management and connection management for core protocols
  - next:
    - [js-waku] enhanced peer and connection management for better reliability of Filter [feat: enhancing protocol management with mutex locks](https://github.com/waku-org/js-waku/pull/2137)
    - [js-waku] refine LightPush implementation for better testability and reliability
    - [js-waku] continue with Filter subscriptions investigation [bug: Filter subscriptions are not stable and missing messages](https://github.com/waku-org/js-waku/issues/2139)

## [Milestone - End-to-end reliability protocol](https://github.com/waku-org/pm/milestone/30)

- [End-to-end reliability protocol - Status integration](https://github.com/waku-org/pm/issues/194)
  - achieved:
    - [research] Discussion on forum post and some updates based on feedback
  - next:
    - [research] Implementation of the API in nim

## [Milestone - Static Sharding - dedicated shards](https://github.com/waku-org/pm/milestone/31)

- [Telemetry: Measure Bandwidth](https://github.com/waku-org/pm/issues/195)
  - achieved:
    - [chat] go-waku: added bandwidth in/out metrics: [test: bandwidth totals](https://github.com/waku-org/go-waku/pull/1226)

- [Sharding peer management and discovery hardening](https://github.com/waku-org/pm/issues/172)
  - achieved:
    - [nwaku] Fixed having excess `in` connections [fix: rejecting excess relay connections](https://github.com/waku-org/nwaku/pull/3065)
    - [nwaku] Fixed `out` connections leak [fix: out connections leak](https://github.com/waku-org/nwaku/pull/3077)
    - [nwaku] Implemented abstract peer store interface using WakuPeerStore. [refactor: wrap peer store](https://github.com/waku-org/nwaku/pull/3051)
  - next:
    - [nwaku] Restructure functions based on the peer manager's responsibilities. [refactor: re-arrange function based on responsibility of peer-manager](https://github.com/waku-org/nwaku/pull/3086)

## [Milestone - Scale 1:1 chat messages PoC](https://github.com/waku-org/pm/milestone/34)

[Implement RLN smart contract for paid, multilevel memberships](https://github.com/waku-org/pm/issues/256)
  - achieved:
    - [research] review and improve the RLN mainnet contract and spec
  - next:
    - [research] finalize RLN on mainnet PR

## [Milestone: Nwaku in Status Desktop](https://github.com/waku-org/pm/milestone/33)

- [Nwaku in Status Desktop](https://github.com/waku-org/pm/issues/203)
  - achieved:
    - [nwaku] logging errors in libwaku [Compare changes](https://github.com/waku-org/nwaku/pull/3067)
    - [nwaku] indicate to the compiler that negentropy.h will be a precompiled header [fix: indicate to the compiler that negentropy.h will be a precompiled header](https://github.com/waku-org/negentropy/pull/12)
    - [nwaku] build nwaku with nix and use build tags to choose between go-waku and nwaku [feat_: build nwaku with nix and use build tags to choose between go-waku and nwaku](https://github.com/status-im/status-go/pull/5896)
  - next:
    - [nwaku] Include nwaku in status-desktop App

## [Milestone: Incentivise running a Waku infrastructure node](https://github.com/waku-org/pm/milestone/35)

- [RLN Relay Incentivisation - Distribute RLN fees PoC](https://github.com/waku-org/pm/issues/243)
  - achieved:
    - [research] Addressed the open problems and ready for a second round of feedback: [RLN Fees distribution to operators with root voting](https://github.com/waku-org/research/issues/101#issuecomment-2388038169)
  - next:
    - [research] Second round of feedback and decide next steps

- [Service Incentivisation - Pay for RLN provision PoC](https://github.com/waku-org/pm/issues/245)
  - next:
    - [research] start service incentivization implementation and spec changes

## [Milestone: Bandwidth optimization and protocol review](https://github.com/waku-org/pm/milestone/31)

- [Status usage of Waku scaling and bandwidth optimization recommendation](https://github.com/waku-org/pm/issues/197)
  - achieved:
    - [chat] proposed and discuss about the bandwidth improvement post, [Use Waku in a Bandwidth Efficient Way](https://forum.vac.dev/t/use-waku-in-a-bandwidth-efficient-way/353)

- [Review usage of content topics in Status Chat and Communities protocol](https://github.com/waku-org/pm/issues/198)
  - achieved:
    - [chat] able to interop test between single content-topic community code and 2.30 code using relay and lightclient [feat_: poc to use single content-topic for all community chats](https://github.com/status-im/status-go/pull/5864)

## [Milestone: Demonstrate product-market fit](https://github.com/waku-org/pm/milestone/36)

- [Define potential USPs](https://github.com/waku-org/pm/issues/249)
  - achieved: Cleaned up validation matrix. Used to lay out the validation that are needed and capture learnings.

- [Define target customers](https://github.com/waku-org/pm/issues/250)
  - achieved:
    - we can consider payments/relayers/state channels a go-to use case
  - next:
    - finding out more of these

- [Customer Interviews](https://github.com/waku-org/pm/issues/251)
  - achieved:
    - 3 projects to interview and had a call where we touched upon most of the topics 
  - next:
    - add more

- [Co-design sessions](https://github.com/waku-org/pm/issues/252)
  - achieved:
    - 2 committments
  - next:
    - add more

## Other Work

### Enhancements

- achieved:
  - [js-waku] dogfooding app dashboard for better overview of TWN from client PoV
  - [chat] go-waku: added unit tests to [feat: storenode cycle](https://github.com/waku-org/go-waku/pull/1223)
  - [chat] go-waku: use byte array to decode ENRs `waku2` field: [fix: use byte array to decode ENRs uint8 fields](https://github.com/waku-org/go-waku/pull/1227)
- next:
  - [js-waku] refined API for connecting to the network [chore: make waitForRemotePeer part of the waku interface](https://github.com/waku-org/js-waku/issues/1761)
  - [js-waku] improve telemetry gathering and metric display

### Maintenance

- achieved:
  - [nwaku] [chore: append current version in agentString which is used by the identify protocol](https://github.com/waku-org/nwaku/pull/3057)
  - [nwaku] Finished validating and released v0.33.0
