---
title: 2024-08-26 Waku Weekly
tags:
  - waku-updates
date: 2024-08-26
---

## [Milestone - Store Service Upgrade](https://github.com/waku-org/pm/milestone/28)

- [Store v3-beta - Message Hashes](https://github.com/waku-org/pm/issues/131)
  - achieved:
    - [research] run benchmark tests on isolated store DB
  - next:
    - [research] summarise findings

- [PostgreSQL Maintenance](https://github.com/waku-org/pm/issues/119)
  - achieved:
    - [nwaku] Run “ANALYZE messages” more regularly [chore: ANALYZE messages query should be performed regularly](https://github.com/waku-org/nwaku/pull/2986)

## [Milestone - Direct Message Reliability](https://github.com/waku-org/pm/milestone/29)

- [Reliability Protocol for Relay](https://github.com/waku-org/pm/issues/184)
  - achieved:
    - [nwaku] new PR with reliability approach [chore: delivery monitor for store v3 reliability protocol](https://github.com/waku-org/nwaku/pull/2977)
    - [chat] create sender api for publishing messages and sent check [chore: refactor sender api](https://github.com/waku-org/go-waku/pull/1187)

- [Reliability Protocol for Resource-Restricted Clients](https://github.com/waku-org/pm/issues/186)
  - achieved:
    - [js-waku] Filter API improvements [feat(filter)!: new simpler filter API](https://github.com/waku-org/js-waku/pull/2092)
    - [js-waku] browser network state handling leftover [feat: offline state recovery for Filter subscription](https://github.com/waku-org/js-waku/pull/2049)
  - next:
    - [js-waku] in progress on fixes for filter subscriptions [bug: filter sdk does not dial newly added peers](https://github.com/waku-org/js-waku/issues/2079)
    - [js-waku] in progress on improvements for peer selection [feat: peer selection for protocols](https://github.com/waku-org/js-waku/issues/2074)
    - [js-waku] in progress on missing messages verification [feat: message verification and retry](https://github.com/waku-org/js-waku/issues/2075)
  - blockers:
    - [js-waku] light push improvements, waiting for nwaku [feat: migrate to latest LightPush version](https://github.com/waku-org/js-waku/issues/2054)

- [User apps for large scale dogfooding](https://github.com/waku-org/pm/issues/188)
  - achieved:
    - [js-waku] debugged and minor fixes, collected data
  - next:
    - [js-waku] setup basic dashboards
    - [js-waku] improve data collection

- [Review MVDS usage and fail path](https://github.com/waku-org/pm/issues/189)
  - achieved:
    - [chat] spec mvds usage in status [feat: status mvds usage](https://github.com/vacp2p/rfc-index/pull/87)
    - [chat] mvds usage in request to join community message [feat_: request to join community message use mvds](https://github.com/status-im/status-go/pull/5723)

## [Milestone - End-to-end reliability protocol](https://github.com/waku-org/pm/milestone/30)

- [End-to-end reliability protocol - PoC](https://github.com/waku-org/pm/issues/193)
  - achieved:
    - [research] merged and launched e2e reliability POC dogfooding
  - next:
    - [research] document and address POC dogfooding findings, start planning for Status integration

## [Milestone - Static Sharding - dedicated shards](https://github.com/waku-org/pm/milestone/31)

- [Sharding peer management and discovery hardening](https://github.com/waku-org/pm/issues/172)
  - achieved:
    - [nwaku] Renamed `NsPubsubTopic` to `RelayShard` as a step towards switching from pubsub topics to shards [chore: rename NsPubsubTopic](https://github.com/waku-org/nwaku/pull/2974)
    - [nwaku] Deprecated protected topics and added the feature of protected shards as a replacement [chore: deprecating protected topics in favor of protected shards](https://github.com/waku-org/nwaku/pull/2983)
    - [chat] shard aware peer store pruning [feat: shard aware pruning of peer store](https://github.com/waku-org/go-waku/pull/1193)
    - [chat] filter peer exchange peers served [feat: shard based filtering in peer exchange](https://github.com/waku-org/go-waku/pull/1194)

## [Milestone - Scale 1:1 chat messages PoC](https://github.com/waku-org/pm/milestone/34)

- [Maturing RLN variables/parameters revision](https://github.com/waku-org/pm/issues/205)
  - achieved:
    - [research] RLN contract mainnet spec merged [Add WAKU2-RLN-CONTRACT spec for mainnet deployment](https://github.com/waku-org/specs/pull/30/)
  - next:
    - [research] draft Vac research forum post on implementation steps for incentivization; discuss RLN mainnet contract development to iterate on the spec

- [Provision RLN for light push clients PoC](https://github.com/waku-org/pm/issues/206)
  - achieved:
    - [research] go-waku-light now integrated end to end with TWN: [Update TWN Sepolia contract + chat](https://github.com/alrevuelta/go-waku-light/pull/19)
  - next:
    - [research] Start planning rlnv2 itegration in 1on1 chats

## Other Work

### Enhancements

- achieved:
  - [js-waku] make static and auto sharding default [feat!: deprecate named pubsub topics and use static/auto sharding](https://github.com/waku-org/js-waku/pull/2097)
  - [js-waku] improve timestamp compatibility [chore(message-hash): use timestamp in nanoseconds instead of milliseconds](https://github.com/waku-org/js-waku/pull/2094)
  - [js-waku] working on unit test coverage for core implementation [feat: unit testing @waku/core](https://github.com/waku-org/js-waku/issues/2077)
  - [nwaku] Fixed duplicate logging key bug [fix: avoid using the msg key in chronicles](https://github.com/waku-org/nwaku/pull/2970)
  - [nwaku] Updated dependencies for release v0.32.0 [chore: updating dependencies for release 0.32.0](https://github.com/waku-org/nwaku/pull/2971)
  - [nwaku] Improved logging needed for DST simulations by using the new nim-libp2p feature of onValidated observers [chore: logging received message info via onValidated observer](https://github.com/waku-org/nwaku/pull/2973)
  - [nwaku] libwaku retrieves ENR [chore: libwaku retrieve my enr and adapt golang example](https://github.com/waku-org/nwaku/pull/2987)

### Bugs

- achieved:
  - [chat] fix use UTC time in logs [chore: use utc time in logs to avoid user location getting disclosed](https://github.com/waku-org/go-waku/pull/1192)
  - [chat] status-go: fix flaky waku2 test [chore: fix TestBasicWakuV2](https://github.com/status-im/status-go/pull/5718)